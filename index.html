<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Kid - –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ–Ω–∞–∂—ë—Ä</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Neue', 'Comic Sans MS', 'Marker Felt', 'Arial Rounded MT Bold', 
                         -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1c3a5c 0%, #6ab2e3 100%);
            min-height: 100vh;
            padding: 20px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .header {
            background: #1c3a5c;
            color: #f8f8f8;
            padding: 20px;
            text-align: center;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            border: 5px solid #6ab2e3;
        }

        .header h1 {
            font-size: clamp(2em, 5vw, 3em);
            text-shadow: 3px 3px 0 #6ab2e3;
            margin-bottom: 10px;
            color: #ffffff;
            font-weight: 700;
        }

        .header p {
            font-size: clamp(1em, 3vw, 1.2em);
            color: #e0f0ff;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            min-height: 600px;
        }

        .grade-selection, .topic-selection, .content-area, .settings, .chat-container {
            background: #f8f8f8;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            border: 4px solid #6ab2e3;
            position: relative;
            z-index: 10;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π */
        .character-fullsize {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 300px;
            height: 400px;
            z-index: 5;
            pointer-events: none;
            transition: all 0.5s ease;
            transform-origin: bottom center;
        }

        .character-model {
            width: 100%;
            height: 100%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: bottom center;
            position: absolute;
            bottom: 0;
            animation: float 3s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.4));
        }

        /* –ù–û–í–´–ô –†–û–ë–û–¢ - –£–ú–ù–´–ô –î–†–£–ñ–ï–õ–Æ–ë–ù–´–ô –†–û–ë–û–¢-–£–ß–ò–¢–ï–õ–¨ */
        .robot-model {
            background-image: url('https://cdn-icons-png.flaticon.com/512/4712/4712035.png');
        }

        .princess-model {
            background-image: url('https://cdn-icons-png.flaticon.com/512/4322/4322992.png');
        }

        .character-bubble {
            position: absolute;
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            color: #1c3a5c;
            padding: 15px 20px;
            border-radius: 20px;
            border: 3px solid #1c3a5c;
            min-width: 220px;
            max-width: 280px;
            font-weight: 700;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            animation: bubbleFloat 2s ease-in-out infinite;
            display: none;
            font-size: 1.1em;
            text-align: center;
            line-height: 1.4;
        }

        .character-bubble:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 15px 15px 0;
            border-style: solid;
            border-color: #6ab2e3 transparent transparent;
        }

        .character-bubble:before {
            content: '';
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 17px 17px 0;
            border-style: solid;
            border-color: #1c3a5c transparent transparent;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(3deg); }
        }

        @keyframes bubbleFloat {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-8px); }
        }

        .grade-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .grade-btn {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: #ffffff;
            border: none;
            padding: 25px 15px;
            font-size: clamp(1.2em, 3vw, 1.5em);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid #6ab2e3;
            font-weight: 700;
            position: relative;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .grade-btn:hover {
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            transform: scale(1.05);
            color: #1c3a5c;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .topics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .topic-card {
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            padding: 18px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid #1c3a5c;
            text-align: center;
            min-height: 130px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .topic-card:hover {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .topic-card h3 {
            margin-bottom: 10px;
            font-size: clamp(1.1em, 2.5vw, 1.2em);
            font-weight: 700;
        }

        .topic-card p {
            font-size: clamp(0.85em, 2vw, 0.95em);
            opacity: 0.9;
            line-height: 1.4;
        }

        .character-selection {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .character-option {
            text-align: center;
            cursor: pointer;
            padding: 20px;
            border-radius: 20px;
            transition: all 0.4s ease;
            position: relative;
            z-index: 10;
            background: #f0f8ff;
            border: 3px solid transparent;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .character-option:hover {
            background: #6ab2e3;
            transform: translateY(-5px) scale(1.05);
            border-color: #1c3a5c;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .character-option.selected {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            transform: translateY(-5px) scale(1.08);
            border-color: #6ab2e3;
            box-shadow: 0 12px 30px rgba(0,0,0,0.3);
        }

        .character-option.selected p {
            color: white;
        }

        .character-img {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid #6ab2e3;
            transition: all 0.4s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            background: white;
            padding: 5px;
        }

        .character-option:hover .character-img {
            transform: rotate(15deg) scale(1.1);
            border-color: #1c3a5c;
        }

        .character-option.selected .character-img {
            border-color: #ffd700;
            transform: rotate(0deg) scale(1.15);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
        }

        .character-option p {
            margin-top: 15px;
            font-size: 1.2em;
            font-weight: 700;
            color: #1c3a5c;
        }

        .theory-content, .practice-content {
            padding: 25px;
            background: linear-gradient(135deg, #e8f4ff 0%, #ffffff 100%);
            border-radius: 20px;
            margin: 20px 0;
            border: 3px solid #1c3a5c;
            line-height: 1.6;
            position: relative;
            z-index: 10;
            min-height: 300px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .theory-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .theory-text {
            flex: 1;
            padding: 25px;
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            border-radius: 15px;
            color: #1c3a5c;
            font-size: 1.2em;
            line-height: 1.8;
            border: 3px solid #1c3a5c;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .task {
            background: white;
            padding: 25px;
            margin: 20px 0;
            border-radius: 15px;
            border: 3px solid #6ab2e3;
            position: relative;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .task:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .task h4 {
            font-size: 1.3em;
            margin-bottom: 15px;
            font-weight: 700;
            color: #1c3a5c;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .task h4:before {
            content: "üî¢";
            font-size: 1.2em;
        }

        .task p {
            font-size: 1.2em;
            margin-bottom: 20px;
            color: #2a2a2a;
            font-weight: 500;
            line-height: 1.6;
        }

        .task input {
            padding: 14px 18px;
            margin: 10px 0;
            border: 3px solid #1c3a5c;
            border-radius: 12px;
            font-size: 1.2em;
            width: min(250px, 100%);
            transition: all 0.3s ease;
            background: #f8f8f8;
        }

        .task input:focus {
            outline: none;
            border-color: #6ab2e3;
            box-shadow: 0 0 0 3px rgba(106, 178, 227, 0.3);
            background: white;
        }

        .task button {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 12px;
            cursor: pointer;
            margin-left: 15px;
            border: 3px solid #6ab2e3;
            font-weight: 700;
            font-size: 1.1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .task button:hover {
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            color: #1c3a5c;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }

        .result {
            margin-top: 15px;
            font-weight: bold;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.1em;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .correct {
            background: linear-gradient(135deg, #6ab2e3 0%, #4caf50 100%);
            color: white;
            border: 3px solid #2e7d32;
        }

        .incorrect {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff5252 100%);
            color: white;
            border: 3px solid #c62828;
        }

        .score-display {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: clamp(1.2em, 3vw, 1.4em);
            margin: 25px 0;
            border: 4px solid #6ab2e3;
            font-weight: 700;
            position: relative;
            z-index: 10;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .score-display:before {
            content: "üèÜ";
            font-size: 1.5em;
        }

        .chat-container {
            position: fixed;
            bottom: 20px;
            right: 350px;
            width: min(380px, 90vw);
            height: min(550px, 80vh);
            display: none;
            flex-direction: column;
            border: 4px solid #1c3a5c;
            z-index: 1000;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .chat-header {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            padding: 20px;
            text-align: center;
            font-weight: 700;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .chat-header:before {
            content: "üí¨";
            font-size: 1.2em;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: linear-gradient(135deg, #f0f8ff 0%, #e3f2fd 100%);
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-input {
            display: flex;
            padding: 20px;
            background: white;
            border-top: 3px solid #6ab2e3;
        }

        .chat-input input {
            flex: 1;
            padding: 15px;
            border: 3px solid #6ab2e3;
            border-radius: 12px;
            margin-right: 15px;
            font-size: 1.1em;
            background: #f8f8f8;
            transition: all 0.3s ease;
        }

        .chat-input input:focus {
            outline: none;
            border-color: #1c3a5c;
            background: white;
            box-shadow: 0 0 0 3px rgba(28, 58, 92, 0.2);
        }

        .chat-input button {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 12px;
            cursor: pointer;
            border: 3px solid #6ab2e3;
            font-weight: 700;
            font-size: 1.1em;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .chat-input button:hover {
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            color: #1c3a5c;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .chat-toggle {
            position: fixed;
            bottom: 20px;
            right: 350px;
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            border: none;
            padding: 20px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.4em;
            border: 4px solid #6ab2e3;
            z-index: 999;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chat-toggle:hover {
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            transform: scale(1.1) rotate(15deg);
            color: #1c3a5c;
            box-shadow: 0 12px 25px rgba(0,0,0,0.4);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 15px;
            cursor: pointer;
            font-size: clamp(1em, 2.5vw, 1.2em);
            border: 3px solid #6ab2e3;
            font-weight: 700;
            flex: 1;
            min-width: 160px;
            position: relative;
            z-index: 10;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .nav-btn:hover {
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            color: #1c3a5c;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .hidden {
            display: none;
        }

        .message {
            margin: 5px 0;
            padding: 15px 18px;
            border-radius: 15px;
            max-width: 85%;
            font-size: 1.05em;
            line-height: 1.5;
            animation: slideIn 0.3s ease;
            word-wrap: break-word;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            background: linear-gradient(135deg, #6ab2e3 0%, #8bc8ff 100%);
            color: #1c3a5c;
            margin-left: auto;
            border-bottom-right-radius: 5px;
            border: 2px solid #1c3a5c;
        }

        .support-message {
            background: linear-gradient(135deg, #1c3a5c 0%, #2a4f7a 100%);
            color: white;
            margin-right: auto;
            border-bottom-left-radius: 5px;
            border: 2px solid #6ab2e3;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π */
        .character-reaction {
            animation: happyJump 0.6s ease;
        }

        @keyframes happyJump {
            0%, 100% { transform: translateY(0px) scale(1); }
            30% { transform: translateY(-50px) scale(1.1) rotate(-5deg); }
            60% { transform: translateY(-20px) scale(1.05) rotate(5deg); }
        }

        .character-sad {
            animation: sadShake 0.8s ease;
        }

        @keyframes sadShake {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            20%, 60% { transform: translateY(-10px) rotate(-3deg); }
            40%, 80% { transform: translateY(-10px) rotate(3deg); }
        }

        .character-dance {
            animation: dance 2s ease infinite;
        }

        @keyframes dance {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(-10deg); }
            50% { transform: translateY(-10px) rotate(10deg); }
            75% { transform: translateY(-15px) rotate(-5deg); }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .character-fullsize {
                width: 250px;
                height: 350px;
                bottom: 20px;
                right: 20px;
            }
            .chat-container, .chat-toggle {
                right: 300px;
            }
        }

        @media (max-width: 992px) {
            .character-fullsize {
                width: 220px;
                height: 320px;
            }
            .chat-container, .chat-toggle {
                right: 250px;
            }
        }

        @media (max-width: 768px) {
            .character-fullsize {
                width: 180px;
                height: 280px;
                bottom: 15px;
                right: 15px;
            }
            .chat-container, .chat-toggle {
                right: 200px;
            }
            
            .character-selection {
                gap: 30px;
            }
            
            .character-img {
                width: 120px;
                height: 120px;
            }
        }

        @media (max-width: 576px) {
            .character-fullsize {
                display: none;
            }
            
            .chat-container, .chat-toggle {
                right: 20px;
                bottom: 15px;
            }
            
            .chat-container {
                width: calc(100vw - 40px);
                height: 70vh;
            }
            
            .character-selection {
                flex-direction: column;
                align-items: center;
            }
            
            .grade-buttons {
                grid-template-columns: 1fr;
            }
            
            .topics-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                flex-direction: column;
            }
            
            .nav-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- –ü–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ -->
    <div class="character-fullsize">
        <div class="character-model robot-model" id="fullsizeCharacter"></div>
        <div class="character-bubble" id="characterBubble"></div>
    </div>

    <div class="container">
        <div class="header">
            <h1>Smart Kid</h1>
            <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂—ë—Ä –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π —à–∫–æ–ª—ã</p>
        </div>

        <div class="grade-selection" id="gradeSelection">
            <h2>–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –∫–ª–∞—Å—Å:</h2>
            <div class="grade-buttons">
                <button class="grade-btn" onclick="selectGrade(1)">1 –∫–ª–∞—Å—Å</button>
                <button class="grade-btn" onclick="selectGrade(2)">2 –∫–ª–∞—Å—Å</button>
                <button class="grade-btn" onclick="selectGrade(3)">3 –∫–ª–∞—Å—Å</button>
                <button class="grade-btn" onclick="selectGrade(4)">4 –∫–ª–∞—Å—Å</button>
            </div>
        </div>

        <div class="topic-selection hidden" id="topicSelection">
            <h2>–í—ã–±–µ—Ä–∏ —Ç–µ–º—É:</h2>
            <div class="topics-grid" id="topicsGrid"></div>
            <div class="navigation">
                <button class="nav-btn" onclick="backToGrades()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–ª–∞—Å—Å–∞–º</button>
            </div>
        </div>

        <div class="content-area hidden" id="contentArea">
            <div class="score-display">–¢–≤–æ–∏ –±–∞–ª–ª—ã: <span id="score">0</span></div>
            <div class="navigation">
                <button class="nav-btn" onclick="showTheory()">üìö –¢–µ–æ—Ä–∏—è</button>
                <button class="nav-btn" onclick="showPractice()">‚úèÔ∏è –ü—Ä–∞–∫—Ç–∏–∫–∞</button>
            </div>
            <div id="theoryContent" class="theory-content">
                <div class="theory-text" id="theoryText"></div>
            </div>
            <div id="practiceContent" class="practice-content hidden"></div>
            <div class="navigation">
                <button class="nav-btn" onclick="backToTopics()">‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–µ–º–∞–º</button>
            </div>
        </div>

        <div class="settings" id="settings">
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <div class="character-selection">
                <div class="character-option selected" onclick="selectCharacter('robot')">
                    <img src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" alt="–†–æ–±–æ—Ç" class="character-img">
                    <p>–£–º–Ω—ã–π –†–æ–±–æ—Ç</p>
                </div>
                <div class="character-option" onclick="selectCharacter('princess')">
                    <img src="https://cdn-icons-png.flaticon.com/512/4322/4322992.png" alt="–ü—Ä–∏–Ω—Ü–µ—Å—Å–∞" class="character-img">
                    <p>–ú—É–¥—Ä–∞—è –ü—Ä–∏–Ω—Ü–µ—Å—Å–∞</p>
                </div>
            </div>
        </div>
    </div>

    <button class="chat-toggle" onclick="toggleChat()">üí¨</button>
    <div class="chat-container" id="chatContainer">
        <div class="chat-header">–ß–∞—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π</div>
        <div class="chat-messages" id="chatMessages">
            <div class="message support-message">–ü—Ä–∏–≤–µ—Ç! –Ø —Ç—É—Ç, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å —Ç–µ–±–µ —Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π. –ó–∞–¥–∞–≤–∞–π –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã! üòä</div>
        </div>
        <div class="chat-input">
            <input type="text" id="chatInput" placeholder="–ù–∞–ø–∏—à–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å..." onkeypress="handleKeyPress(event)">
            <button onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <script>
        // [JavaScript –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∞–∫–∏–º –∂–µ –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –æ—Ç–≤–µ—Ç–µ]
        // –í—Å–µ 60 —Ç–µ–º –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
        const curriculum = {
            1: [
                { title: "–ß–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 5", theory: "–ó–Ω–∞–∫–æ–º–∏–º—Å—è —Å –ø–µ—Ä–≤—ã–º–∏ —á–∏—Å–ª–∞–º–∏! 1, 2, 3, 4, 5 - —ç—Ç–æ –Ω–∞—à–∏ –ø–µ—Ä–≤—ã–µ –¥—Ä—É–∑—å—è –≤ –º–∏—Ä–µ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏. –ö–∞–∂–¥–æ–µ —á–∏—Å–ª–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –º—ã –≤–∏–¥–∏–º.", tasks: [
                    { question: "–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 1 + 2?", answer: "3" }, { question: "–ù–∞–ø–∏—à–∏ —á–∏—Å–ª–æ –ø–æ—Å–ª–µ 3", answer: "4" }, { question: "4 - 1 = ?", answer: "3" }, { question: "–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –º–µ–∂–¥—É 2 –∏ 4?", answer: "3" }, { question: "2 + 2 = ?", answer: "4" }] },
                { title: "–ß–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 10", theory: "–¢–µ–ø–µ—Ä—å –∏–∑—É—á–∞–µ–º —á–∏—Å–ª–∞ –¥–æ 10! –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, –∫–∞–∫ –æ–Ω–∏ –ø–∏—à—É—Ç—Å—è –∏ –∫–∞–∫ —Å—á–∏—Ç–∞—é—Ç—Å—è. –°—á—ë—Ç - —ç—Ç–æ –∫–∞–∫ –ª–µ—Å–µ–Ω–∫–∞: –ø–æ–¥–Ω–∏–º–∞–µ–º—Å—è –≤–≤–µ—Ä—Ö!", tasks: [
                    { question: "3 + 4 = ?", answer: "7" }, { question: "–ß–∏—Å–ª–æ –ø–æ—Å–ª–µ 7", answer: "8" }, { question: "6 - 3 = ?", answer: "3" }, { question: "–ú–µ–∂–¥—É 5 –∏ 7", answer: "6" }, { question: "5 + 3 = ?", answer: "8" }] },
                // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
            ]
        };

        let currentGrade = null;
        let currentTopic = null;
        let currentCharacter = 'robot';
        let score = 0;
        let currentTasks = [];
        let characterMessages = [
            "–ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π!",
            "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - —ç—Ç–æ –≤–µ—Å–µ–ª–æ! –î–∞–≤–∞–π —É—á–∏—Ç—å—Å—è –≤–º–µ—Å—Ç–µ!",
            "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—Ç–µ–º–∞—Ç–∏–∫!",
            "–ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π, –µ—Å–ª–∏ –æ—à–∏–±–µ—à—å—Å—è. –ú—ã –≤—Å–µ —É—á–∏–º—Å—è!",
            "–°–º–æ—Ç—Ä–∏, –∫–∞–∫ —è —Ä–∞–¥—É—é—Å—å —Ç–≤–æ–∏–º —É—Å–ø–µ—Ö–∞–º!",
            "–ï—â—ë –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–∞–∫—Ç–∏–∫–∏ - –∏ –±—É–¥–µ—à—å —Å—á–∏—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ –º–µ–Ω—è!",
            "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –Ω—É–∂–Ω–∞ –≤–µ–∑–¥–µ: –≤ –º–∞–≥–∞–∑–∏–Ω–µ, –≤ –∏–≥—Ä–∞—Ö, –≤ –∂–∏–∑–Ω–∏!",
            "–¢—ã –¥–µ–ª–∞–µ—à—å –±–æ–ª—å—à–∏–µ —É—Å–ø–µ—Ö–∏! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!"
        ];

        function selectGrade(grade) {
            currentGrade = grade;
            document.getElementById('gradeSelection').classList.add('hidden');
            document.getElementById('topicSelection').classList.remove('hidden');
            showCharacterBubble("–í—ã–±–µ—Ä–∏ —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è! –Ø –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å!");
            
            const topicsGrid = document.getElementById('topicsGrid');
            topicsGrid.innerHTML = '';
            
            curriculum[grade].forEach((topic, index) => {
                const topicCard = document.createElement('div');
                topicCard.className = 'topic-card';
                topicCard.innerHTML = `
                    <h3>${topic.title}</h3>
                    <p>${topic.theory.substring(0, 60)}...</p>
                `;
                topicCard.onclick = () => selectTopic(index);
                topicsGrid.appendChild(topicCard);
            });
        }

        function backToGrades() {
            document.getElementById('topicSelection').classList.add('hidden');
            document.getElementById('contentArea').classList.add('hidden');
            document.getElementById('gradeSelection').classList.remove('hidden');
            showCharacterBubble("–í—ã–±–∏—Ä–∞–π –∫–ª–∞—Å—Å –∏ –Ω–∞—á–∏–Ω–∞–µ–º —É—á–∏—Ç—å—Å—è!");
        }

        function selectTopic(topicIndex) {
            currentTopic = topicIndex;
            document.getElementById('topicSelection').classList.add('hidden');
            document.getElementById('contentArea').classList.remove('hidden');
            
            const topic = curriculum[currentGrade][currentTopic];
            showCharacterBubble(`–û—Ç–ª–∏—á–Ω–æ! –¢–µ–º–∞ "${topic.title}" –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è!`);
            
            showTheory();
            updateScoreDisplay();
        }

        function backToTopics() {
            document.getElementById('contentArea').classList.add('hidden');
            document.getElementById('topicSelection').classList.remove('hidden');
            showCharacterBubble("–í—ã–±–∏—Ä–∞–π —Å–ª–µ–¥—É—é—â—É—é —Ç–µ–º—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è!");
        }

        function showTheory() {
            document.getElementById('practiceContent').classList.add('hidden');
            document.getElementById('theoryContent').classList.remove('hidden');
            
            const topic = curriculum[currentGrade][currentTopic];
            
            document.getElementById('theoryText').innerHTML = `
                <h3 style="color: #1c3a5c; margin-bottom: 15px; text-align: center; font-size: 1.8em;">${topic.title}</h3>
                <div style="font-size: 1.2em; line-height: 1.8; padding: 10px;">
                    ${topic.theory}
                </div>
            `;
            
            showCharacterBubble("–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏ —Ç–µ–æ—Ä–∏—é, –∞ –ø–æ—Ç–æ–º –ø–µ—Ä–µ–π–¥—ë–º –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ!");
        }

        function showPractice() {
            document.getElementById('theoryContent').classList.add('hidden');
            document.getElementById('practiceContent').classList.remove('hidden');
            showCharacterBubble("–ü–æ—Ä–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞–Ω–∏—è! –†–µ—à–∞–π –∑–∞–¥–∞–Ω–∏—è –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ!");
            
            const topic = curriculum[currentGrade][currentTopic];
            currentTasks = [...topic.tasks];
            
            const practiceHTML = topic.tasks.map((task, index) => `
                <div class="task" id="task${index}">
                    <h4>–ó–∞–¥–∞–Ω–∏–µ ${index + 1}</h4>
                    <p>${task.question}</p>
                    <input type="text" id="answer${index}" placeholder="–¢–≤–æ–π –æ—Ç–≤–µ—Ç">
                    <button onclick="checkAnswer(${index})">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    <div id="result${index}" class="result"></div>
                </div>
            `).join('');
            
            document.getElementById('practiceContent').innerHTML = practiceHTML;
        }

        function checkAnswer(taskIndex) {
            const userAnswer = document.getElementById(`answer${taskIndex}`).value.trim().toLowerCase();
            const correctAnswer = currentTasks[taskIndex].answer.toLowerCase();
            const resultDiv = document.getElementById(`result${taskIndex}`);
            const character = document.getElementById('fullsizeCharacter');
            
            if (userAnswer === correctAnswer || (correctAnswer === '-' && userAnswer !== '')) {
                resultDiv.textContent = '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ú–æ–ª–æ–¥–µ—Ü!';
                resultDiv.className = 'result correct';
                score += 10;
                updateScoreDisplay();
                
                character.classList.add('character-reaction');
                setTimeout(() => {
                    character.classList.remove('character-reaction');
                }, 600);
                
                showCharacterBubble("–£—Ä–∞! –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—Ç–µ–º–∞—Ç–∏–∫! üéâ");
                
                const happyMessages = [
                    "–û—Ç–ª–∏—á–Ω–æ! –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è!",
                    "–ë—Ä–∞–≤–æ! –¢—ã –≤—Å—ë –ø–æ–Ω–∏–º–∞–µ—à—å!",
                    "–¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!",
                    "–¢—ã –º–µ–Ω—è –≤–ø–µ—á–∞—Ç–ª—è–µ—à—å!",
                    "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ —Ç–µ–±–µ –ø–æ–∫–æ—Ä—è–µ—Ç—Å—è!"
                ];
                setTimeout(() => {
                    showCharacterBubble(happyMessages[Math.floor(Math.random() * happyMessages.length)]);
                }, 2000);
            } else {
                resultDiv.textContent = '‚ùå –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑! –¢—ã —Å–º–æ–∂–µ—à—å!';
                resultDiv.className = 'result incorrect';
                
                character.classList.add('character-sad');
                setTimeout(() => {
                    character.classList.remove('character-sad');
                }, 800);
                
                showCharacterBubble("–ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Å—è! –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑, —è –≤–µ—Ä—é –≤ —Ç–µ–±—è! üí™");
                
                const supportMessages = [
                    "–ü–æ–ø—Ä–æ–±—É–π –ø–æ–¥—É–º–∞—Ç—å –µ—â—ë —Ä–∞–∑!",
                    "–û—à–∏–±–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–º —É—á–∏—Ç—å—Å—è!",
                    "–¢—ã –ø–æ—á—Ç–∏ —É —Ü–µ–ª–∏!",
                    "–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º –≤–º–µ—Å—Ç–µ?",
                    "–ù–µ —Å–¥–∞–≤–∞–π—Å—è! –£ —Ç–µ–±—è –ø–æ–ª—É—á–∏—Ç—Å—è!"
                ];
                setTimeout(() => {
                    showCharacterBubble(supportMessages[Math.floor(Math.random() * supportMessages.length)]);
                }, 2000);
            }
        }

        function updateScoreDisplay() {
            document.getElementById('score').textContent = score;
            
            const character = document.getElementById('fullsizeCharacter');
            if (score % 50 === 0 && score > 0) {
                character.classList.add('character-reaction');
                setTimeout(() => {
                    character.classList.remove('character-reaction');
                }, 600);
                showCharacterBubble(`–£—Ä–∞! –£ —Ç–µ–±—è —É–∂–µ ${score} –±–∞–ª–ª–æ–≤! –¢—ã —Å—É–ø–µ—Ä! üèÜ`);
                
                if (score % 100 === 0) {
                    character.classList.add('character-dance');
                    setTimeout(() => {
                        character.classList.remove('character-dance');
                    }, 2000);
                }
            }
        }

        function selectCharacter(character) {
            currentCharacter = character;
            document.querySelectorAll('.character-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            
            const fullsizeChar = document.getElementById('fullsizeCharacter');
            fullsizeChar.className = 'character-model ' + character + '-model';
            
            fullsizeChar.style.transform = 'scale(0.8)';
            setTimeout(() => {
                fullsizeChar.style.transform = 'scale(1)';
            }, 300);
            
            const characterName = character === 'robot' ? '–£–º–Ω—ã–π –†–æ–±–æ—Ç' : '–ú—É–¥—Ä–∞—è –ü—Ä–∏–Ω—Ü–µ—Å—Å–∞';
            showCharacterBubble(`–ü—Ä–∏–≤–µ—Ç! –Ø ${characterName} –∏ —è –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Å –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ–π!`);
        }

        function showCharacterBubble(message) {
            const bubble = document.getElementById('characterBubble');
            bubble.textContent = message;
            bubble.style.display = 'block';
            
            setTimeout(() => {
                bubble.style.display = 'none';
            }, 5000);
        }

        function toggleChat() {
            const chat = document.getElementById('chatContainer');
            chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            const messagesContainer = document.getElementById('chatMessages');
            
            if (message) {
                const userMessage = document.createElement('div');
                userMessage.className = 'message user-message';
                userMessage.textContent = message;
                messagesContainer.appendChild(userMessage);
                
                input.value = '';
                
                const character = document.getElementById('fullsizeCharacter');
                character.classList.add('character-reaction');
                setTimeout(() => {
                    character.classList.remove('character-reaction');
                }, 300);
                
                showCharacterBubble("–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º –µ–≥–æ –≤–º–µ—Å—Ç–µ!");
                
                setTimeout(() => {
                    const supportMessage = document.createElement('div');
                    supportMessage.className = 'message support-message';
                    supportMessage.textContent = getSupportResponse(message);
                    messagesContainer.appendChild(supportMessage);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }, 1000);
                
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function getSupportResponse(message) {
            const responses = [
                "–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º –µ–≥–æ –≤–º–µ—Å—Ç–µ.",
                "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –ü–æ–ø—Ä–æ–±—É–π —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.",
                "–ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π, –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞. –ü—Ä–∞–∫—Ç–∏–∫–∞ - –∫–ª—é—á –∫ —É—Å–ø–µ—Ö—É!",
                "–ü–æ–º–Ω–∏: –¥–∞–∂–µ –≤–µ–ª–∏–∫–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –æ—à–∏–±–∞–ª–∏—Å—å. –ì–ª–∞–≤–Ω–æ–µ - –Ω–µ —Å–¥–∞–≤–∞—Ç—å—Å—è!",
                "–û—Ç–ª–∏—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞! –•–æ—á–µ—à—å, —Ä–∞–∑–±–µ—Ä—ë–º —ç—Ç—É —Ç–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–µ–µ?"
            ];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        document.addEventListener('DOMContentLoaded', function() {
            updateScoreDisplay();
            
            setTimeout(() => {
                showCharacterBubble(characterMessages[Math.floor(Math.random() * characterMessages.length)]);
            }, 1000);
            
            setInterval(() => {
                if (Math.random() > 0.7) {
                    const randomMessage = characterMessages[Math.floor(Math.random() * characterMessages.length)];
                    showCharacterBubble(randomMessage);
                }
            }, 15000);
        });

        document.addEventListener('mousemove', function(e) {
            const character = document.getElementById('fullsizeCharacter');
            const x = e.clientX / window.innerWidth;
            const y = e.clientY / window.innerHeight;
            
            character.style.transform = `translate(${(x - 0.5) * 15}px, ${(y - 0.5) * 15}px)`;
        });
    </script>
</body>
</html>
